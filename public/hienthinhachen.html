<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Schedule</title>
    <link rel="stylesheet" href="./assets/fontawesome-free-6.6.0-web/css/all.min.css">
</head>

<body>
    <header>
        <p>STUDENT SCHEDULE</p>
        <nav>
            <ul class="icons">
                <li><a href="#TrangChu"><i class="fa-solid fa-house"></i></a></li>
                <li><a href="#TKB"><i class="fa-solid fa-calendar-days"></i></a></li>
                <li><a href="#TaiKhoan"><i class="fa-solid fa-user"></i></a></li>
                <li><a href="#DangXuat"><i class="fa-solid fa-arrow-right-from-bracket"></i></a></li>
            </ul>
        </nav>
    </header>
    <a href="/thoikhoabieu.html" id="thoikhoabieu">Thời khoá biểu</a>
    <div class="container" style="display: flex; gap: 10px ">
        <div class="box truong" style="border: 1px solid; max-width: 400px;">
            <h3>Lịch học hôm nay</h3>
            <ul><strong>Sáng</strong>
                <li class="tkb_Sang"><strong>Thương mại điện tử</strong> <br> 09:30 AM, Phòng 804</li>
            </ul>
            <ul><strong>Chiều</strong>
                <li class="tkb_Chieu"><strong>Kiểm thử phần mềm</strong> <br> 12:35 PM, Phòng 808</li>
            </ul>
        </div>
        <div class="box canhan" style="border: 1px solid; max-width: 400px;">
            <h3>Lịch cá nhân hôm nay</h3>
            <ul><strong>Sáng</strong>
                <li class="tkbCN_Sang"><strong>Tham gia workshop</strong> <br>07:00, HTB</li>
            </ul>
            <ul><strong>Chiều</strong>
                <li class="tkbCN_Chieu"><strong>Làm trắc nghiệm</strong> <br> Chiều, Online</li>
            </ul>
        </div>
        <div class="profile" style="border: 1px solid; max-width: 400px;">
            <h2><i class="fa-solid fa-graduation-cap"></i> Sinh viên</h2>
            <div class="profile_container">
                <p><strong>Họ và tên:</strong> <label id="tensv"></label></p>
                <p><strong>Lớp:</strong> <label id="lop"></label></p>
                <p><strong>MSSV:</strong> <label id="mssv"></label></p>
            </div>
        </div>
        <div class="box nhachen" style="border: 1px solid; max-width: 400px;">
            <h3>Nhắc Hẹn</h3>
            <ul id="nhachenList"></ul>
        </div>
    </div>

    <script>
        async function loadHome() {
            const response = await fetch('/api/home');
            const data = await response.json();
            document.getElementById('tensv').textContent = data.tensv;
            document.getElementById('lop').textContent = data.lop;
            document.getElementById('mssv').textContent = data.masv;
        }

        async function loadNhacHen() {
            const response = await fetch('/api/nhachen');
            const data = await response.json();
            const nhachenList = document.getElementById('nhachenList');
            nhachenList.innerHTML = "";
            data.forEach(nhacHen => {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${nhacHen.tennh}</strong> - ${nhacHen.ngaybatdau} đến ${nhacHen.ngayketthuc}`;
                nhachenList.appendChild(li);
            });
        }

        window.addEventListener('load', () => {
            loadHome();
            loadNhacHen();
        });
    </script>
</body>

</html>